@@include('_head.html')

<main>

<section mv-app mv-storage="https://github.com/leaverou/forkgasm/recipes.json"
         mv-bar="no-login" mv-plugins="markdown" id="[idify(name)]" class="mv-autoedit">

	<div class="mv-bar mv-ui mv-fixed"></div>
	<meta property="selectedRecipe" mv-value="url('recipes')" />

	<article property="recipe" mv-multiple style="--image: url([image])" mv-multiple-path="id=[if(selectedRecipe)]">
		<header class="recipe-card">
			<a href="[image]" target="_blank"><img property="image"></a>
			<h2 property="name"></h2>
			<p class="hide-on-read">
				http://forkgasm.com/recipes/<span property="id" mv-default="[idify(name)]"></span>
			</p>
			<p property="description"></p>
			<p class="tags">
				<span property="tag" mv-multiple></span>
			</p>
		</header>

		<div class="content">
			<section class="ingredients">
				<h3>Ingredients</h3>
				<ol>
					<li property="ingredient" mv-multiple mv-accepts="ingredient">
						<input type="checkbox">
						<span property="amount">1</span>
						<span property="unit" mv-edit-list="units"></span>
						<span property="name"></span>
						<span property="preparation" mv-edit-list="#preparations"></span>
					</li>
					<li property="ingredientGroup" mv-multiple mv-optional>
						<h4 property="name"></h4>
						<ol>
							<li property="ingredient" mv-multiple mv-like="ingredient"></li>
						</ol>
					</li>
				</ol>
			</section>

			<section class="directions">
				<h3>Directions</h3>
				<ol>
					<li property="step" mv-multiple>
						<div property="description" class="markdown"></div>
					</li>
				</ol>
			</section>
		</div>

		<h3 class="[if(!notes, 'hide-on-read')]">Notes</h3>
		<div property="notes" class="markdown"></div>

		<footer class="[if(!forked, 'hide-on-read')]">
			<span>Forked from</span>
			<div property="forked" class="markdown"></div>
		</footer>
	</article>

	<a href="?login" class="mv-login mv-logged-out">Login to edit</a>

	<div>
		<datalist id="units">
			<option>g</option>
			<optgroup label="Small amounts">
				<option>tsp</option>
				<option>tbsp</option>
				<option>oz</option>
				<option>pinch</option>
			</optgroup>
			<optgroup label="Large amounts">
				<option>cup</option>
				<option>pound</option>
				<option>kg</option>
			</optgroup>
			<optgroup label="Volume">
				<option>ml</option>
				<option>floz</option>
			</optgroup>
		</datalist>

		<datalist id="preparations">
			<option>diced</option>
			<option>minced</option>
			<option>sliced</option>
		</datalist>
	</div>
</section>

</main>

@@include("_foot.html")
